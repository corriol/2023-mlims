
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.2.2, mkdocs-material-7.2.6" name="generator"/>
<title>XML transformation technologies - MLIMS</title>
<link href="../../assets/stylesheets/main.802231af.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<meta content="#4cae4f" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700%7C&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Lato";--md-code-font-family:""}</style>
<link href="../../stylesheets/extra.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="brown" data-md-color-primary="green" data-md-color-scheme="" dir="ltr">
<script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#xml-transformation-technologies">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="MLIMS" class="md-header__button md-logo" data-md-component="logo" href="../.." title="MLIMS">
<img alt="logo" src="../../assets/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            MLIMS
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              XML transformation technologies
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="MLIMS" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="MLIMS">
<img alt="logo" src="../../assets/logo.png"/>
</a>
    MLIMS
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1">
        1. Markup languages. XML
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="1. Markup languages. XML" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          1. Markup languages. XML
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../01-mlxml/00_index/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../01-mlxml/01_llenguatges/">
        Markup languages
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../01-mlxml/02_xml/">
        XML
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../01-mlxml/03_tasks/">
        Tasks
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
        2. XML schemas and vocabularies
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="2. XML schemas and vocabularies" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          2. XML schemas and vocabularies
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-xml-scheme/0200-intro/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-xml-scheme/0201-xml-scheme/">
        XML schemas
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-xml-scheme/0202-content-syndication/">
        Content syndication
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-xml-scheme/0299-tasks/">
        Tasks
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
        3. HTML
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="3. HTML" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          3. HTML
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../03-html/0300-intro/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03-html/0301-html/">
        HTML
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
        4. CSS
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="4. CSS" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          4. CSS
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../04-css/04-01-css/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04-css/04-02-css-layout/">
        Introduction to CSS layout
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04-css/04-99-tasks/">
        Tasks
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
        5. XML handling and storage
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5. XML handling and storage" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          5. XML handling and storage
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../05-handling-storage-xml-documents/0500-intro/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05-handling-storage-xml-documents/0501-xpath/">
        XPath
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05-handling-storage-xml-documents/0502-xslt/">
        XSLT
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05-handling-storage-xml-documents/0503-xmlstorage/">
        XML Storage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05-handling-storage-xml-documents/0599-tasks/">
        Tasks
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#introduction">
    Introduction
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#css">
    CSS
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conversion-and-adaptation-of-xml-documents">
    Conversion and adaptation of XML documents
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xpath">
    XPath
  </a>
<nav aria-label="XPath" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#document-tree">
    Document tree
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#node-types">
    Node types
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xpath-expression-syntax">
    XPath expression syntax
  </a>
<nav aria-label="XPath expression syntax" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#xml-sample">
    XML sample
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#axis">
    Axis
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#predicate">
    Predicate
  </a>
<nav aria-label="Predicate" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#conditions">
    Conditions
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#node-selection">
    Node selection
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bibliography-webography-and-credits">
    Bibliography, webography and credits
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="xml-transformation-technologies">XML transformation technologies<a class="headerlink" href="#xml-transformation-technologies" title="Permanent link">¶</a></h1>
<p>Unit 5: 
Goals:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>Recognize the need for converting XML documents.
<span class="linenos" data-linenos=" 2 "></span>Determine the areas of application.
<span class="linenos" data-linenos=" 3 "></span>Analyze the involved technologies and how they work.
<span class="linenos" data-linenos=" 4 "></span>Explain the specific syntax used in converting and adapting XML documents.
<span class="linenos" data-linenos=" 5 "></span>Create conversion specifications.
<span class="linenos" data-linenos=" 6 "></span>Identify and characterize specific tools related to converting XML documents.
<span class="linenos" data-linenos=" 7 "></span>Perform conversions in different output formats.
<span class="linenos" data-linenos=" 8 "></span>Document and debug conversion specifications.
<span class="linenos" data-linenos=" 9 "></span>Identify the main methods for storing information in XML documents.
<span class="linenos" data-linenos="10 "></span>Recognize the disadvantages of storing information in XML format.
<span class="linenos" data-linenos="11 "></span>Use relational database management systems for storing XML-formatted information.
<span class="linenos" data-linenos="12 "></span>Use specific techniques to create XML documents from information stored in relational databases.
<span class="linenos" data-linenos="13 "></span>Identify the characteristics of native XML database management systems.
<span class="linenos" data-linenos="14 "></span>Use techniques to manage information stored in native XML databases.
<span class="linenos" data-linenos="15 "></span>Identify languages and tools for processing and storing information and incorporating it into XML documents.
</code></pre></div>
<p>Learning Outcomes: 5 and 6
Evaluation Criteria:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>The need for converting XML documents has been recognized.
<span class="linenos" data-linenos=" 2 "></span>The areas of application have been established.
<span class="linenos" data-linenos=" 3 "></span>The involved technologies have been analyzed and their mode of operation has been understood.
<span class="linenos" data-linenos=" 4 "></span>The specific syntax used in converting and adapting XML documents has been described.
<span class="linenos" data-linenos=" 5 "></span>Conversion specifications have been created.
<span class="linenos" data-linenos=" 6 "></span>Specific tools related to converting XML documents have been identified and characterized.
<span class="linenos" data-linenos=" 7 "></span>Conversions have been performed in different output formats.
<span class="linenos" data-linenos=" 8 "></span>Conversion specifications have been documented and debugged.
<span class="linenos" data-linenos=" 9 "></span>The main methods for storing information in XML documents have been identified.
<span class="linenos" data-linenos="10 "></span>The disadvantages of storing information in XML format have been recognized.
<span class="linenos" data-linenos="11 "></span>Efficient storage technologies for information have been established based on their characteristics.
<span class="linenos" data-linenos="12 "></span>Relational database management systems have been used for storing XML-formatted information.
<span class="linenos" data-linenos="13 "></span>Specific techniques have been used to create XML documents from information stored in relational databases.
<span class="linenos" data-linenos="14 "></span>The characteristics of native XML database management systems have been identified.
<span class="linenos" data-linenos="15 "></span>Analyzed systems and native XML database systems have been installed.
<span class="linenos" data-linenos="16 "></span>Techniques have been used to manage information stored in native XML databases.
<span class="linenos" data-linenos="17 "></span>Languages and tools for processing and storing information and incorporating it into XML documents have been identified.
</code></pre></div>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>
<p>Although XML is a relatively readable format, this is not one of its main goals, especially considering that humans like to read data in certain formats that make them more pleasantly readable - while the XML specification states that in no case should information about how information should be displayed must be included in the documents.</p>
<p>In some cases, XML documents may need to be transformed to make them easier to view, or adapted so that they can be read by specific programs.</p>
<p>XML is primarily intended for storing and exchanging information, so if the data needs to be represented differently to optimize a process or to improve its visualization, there are several possibilities:</p>
<ol>
<li>
<p><strong>Develop a program</strong>: Since it is relatively easy to work with XML, you could develop a program that takes the XML data and generates the output as you want. This has the disadvantage that you will need to have programming knowledge and it can be a lot of work even if what you need to do is trivial.</p>
</li>
<li>
<p><strong>Use CSS</strong>: In many cases a simple solution would be to use CSS to render information more user-friendly using a browser. But it only serves to change the way the document is displayed, not to change the type of document.</p>
</li>
<li><strong>Transform the document</strong>: An alternative solution is to transform the document into one that is intended to be viewed. There are many formats that are mainly designed to be viewed: PDF, HTML, XHTML, etc.</li>
</ol>
<h2 id="css">CSS<a class="headerlink" href="#css" title="Permanent link">¶</a></h2>
<p>Given the following XML file:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?xml version="1.0" ?&gt;</span>
<span class="linenos" data-linenos=" 2 "></span><span class="cp">&lt;?xml-stylesheet href="sample.css"?&gt;</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nt">&lt;professor&gt;</span>
<span class="linenos" data-linenos=" 4 "></span>  <span class="nt">&lt;nom&gt;</span>Marcel<span class="nt">&lt;/nom&gt;</span>
<span class="linenos" data-linenos=" 5 "></span>  <span class="nt">&lt;cognom&gt;</span>Garcia<span class="nt">&lt;/cognom&gt;</span>
<span class="linenos" data-linenos=" 6 "></span>  <span class="nt">&lt;departament&gt;</span>Departament d'Informàtica<span class="nt">&lt;/departament&gt;</span>
<span class="linenos" data-linenos=" 7 "></span>  <span class="nt">&lt;carrecs&gt;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="nt">&lt;carrec&gt;</span>Cap de Departament<span class="nt">&lt;/carrec&gt;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="nt">&lt;carrec&gt;</span>Tutor<span class="nt">&lt;/carrec&gt;</span>
<span class="linenos" data-linenos="10 "></span>  <span class="nt">&lt;/carrecs&gt;</span>
<span class="linenos" data-linenos="11 "></span><span class="nt">&lt;/professor&gt;</span>
</code></pre></div>
<p>Applying this as CSS</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="nt">professor</span> <span class="p">{</span> <span class="k">padding</span><span class="p">:</span> <span class="mi">30</span><span class="kt">px</span><span class="p">;</span>
<span class="linenos" data-linenos=" 2 "></span>            <span class="k">margin</span><span class="p">:</span> <span class="mi">30</span><span class="kt">px</span><span class="p">;</span>
<span class="linenos" data-linenos=" 3 "></span>            <span class="k">border</span><span class="p">:</span> <span class="mi">4</span><span class="kt">px</span> <span class="kc">black</span> <span class="kc">solid</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>            <span class="k">width</span><span class="p">:</span> <span class="mi">40</span><span class="kt">%</span><span class="p">;</span> <span class="p">}</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span><span class="nt">nom</span><span class="o">,</span><span class="nt">cognom</span> <span class="p">{</span> <span class="k">font-size</span><span class="p">:</span><span class="mi">30</span><span class="kt">px</span><span class="p">;</span> <span class="p">}</span>
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span><span class="nt">departament</span> <span class="p">{</span> <span class="k">padding-top</span><span class="p">:</span><span class="mi">20</span><span class="kt">px</span><span class="p">;</span> 
<span class="linenos" data-linenos=" 9 "></span>              <span class="k">display</span><span class="p">:</span><span class="kc">block</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span>              <span class="k">font-weight</span><span class="p">:</span><span class="kc">bold</span><span class="p">;}</span>
<span class="linenos" data-linenos="11 "></span>
<span class="linenos" data-linenos="12 "></span><span class="nt">carrec</span><span class="p">{</span> <span class="k">font-style</span><span class="p">:</span> <span class="kc">italic</span><span class="p">;</span>
<span class="linenos" data-linenos="13 "></span>        <span class="k">padding-left</span><span class="p">:</span><span class="mi">10</span><span class="kt">px</span><span class="p">;</span> <span class="p">}</span>
<span class="linenos" data-linenos="14 "></span>
<span class="linenos" data-linenos="15 "></span><span class="nt">carrec</span><span class="p">:</span><span class="nd">after</span> <span class="p">{</span> <span class="k">content</span><span class="p">:</span><span class="s2">","</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div>
<p>The resulting page will be similar to:</p>
<p><img alt="" src="../assets/css.png"/></p>
<p>However, CSS has many limitations when it comes to presenting information:</p>
<ul>
<li>The information cannot be rearranged as we wish.</li>
<li>Attributes can be displayed, but there are many limitations to doing so.</li>
<li>No new product calculation or data processing structures can be added to the document.</li>
<li>There are no easy ways to format data for printing.</li>
</ul>
<p>If the ultimate goal is not simply to decorate the document but to transform it into a completely different document, CSS is useless. CSS does not transform the document but simply changes the way it is displayed.</p>
<h2 id="conversion-and-adaptation-of-xml-documents">Conversion and adaptation of XML documents<a class="headerlink" href="#conversion-and-adaptation-of-xml-documents" title="Permanent link">¶</a></h2>
<p>The W3C created a generalization of CSS style sheets called XSL
(<em>eXtensible Stylesheet Language</em>).</p>
<p>The W3C has developed three languages:
* <strong>XPath</strong>: A language for referring to parts of an XML document.
* <strong>XSLT</strong> (<em>XSL Transformation</em>, ie XSL Transformations): a language for transforming XML documents.
* <strong>XSL-FO</strong> (<em>XSL Formatting Objects</em>): a language for specifying the format of an XML document and converting it to PDF or PostScript.</p>
<p><img alt="bg 90%" src="../assets/beautiful-output.jpg"/></p>
<h2 id="xpath">XPath<a class="headerlink" href="#xpath" title="Permanent link">¶</a></h2>
<p>XPath is a simple language for identifying parts of an XML document that are of interest. It is used by XSLT, and also by XLink; it is extended considerably by XQuery.</p>
<p>XPath cannot be used stand-alone: it is always used in the context of a host language, whether that language is XSLT, Python, PHP, C#, JavaScript... .</p>
<p>XPath can be very powerful: for example, to find all div elements that have a class attribute of sock with a span child whose class attribute is equal to colour, one might write,</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>div[@class="sock"]/span[@class="colour"]
</code></pre></div>
<p>XPath uses a path notation (as in URLs) for navigating through the hierarchical structure of an XML document. It uses a <strong>non-XML syntax</strong> so that it can be used in URIs and XML attribute values.</p>
<p>XPath 3.1 became a Recommendation on 21 March 2017.</p>
<h3 id="document-tree">Document tree<a class="headerlink" href="#document-tree" title="Permanent link">¶</a></h3>
<p>XPath treat XML documents as trees of nodes. The topmost element of the tree is called the root element:</p>
<p><img alt="bg right 90%" src="../assets/grafos-arbol-dirigido.svg"/>
<img alt="bg 100%" src="../assets/grafos-raiz-hermanos.svg"/>
<img alt="bg 100%" src="../assets/grafos-descendientes.svg"/>
<img alt="bg 100%" src="../assets/grafos-ascendientes.svg"/></p>
<h3 id="node-types">Node types<a class="headerlink" href="#node-types" title="Permanent link">¶</a></h3>
<p>In XPath not only elements are nodes but also other type of things. There are seven kinds of nodes: </p>
<ol>
<li>root element</li>
<li>elements</li>
<li>attributes</li>
<li>text nodes</li>
<li>namespaces</li>
<li>processing instructions</li>
<li>comments</li>
</ol>
<h3 id="xpath-expression-syntax">XPath expression syntax<a class="headerlink" href="#xpath-expression-syntax" title="Permanent link">¶</a></h3>
<p>An XPath expression is a <strong>text string representing a path through the document tree</strong>. The simplest expressions resemble file paths in Windows Explorer or the GNU/Linux shell.</p>
<p><strong>Evaluating an XPath expression</strong> is looking to see if there are nodes in the document that fit the path defined in the expression. The result of the evaluation is all the nodes that fit the expression. In order to evaluate an XPath expression, the document must be well-formed.</p>
<p>XPath expressions can be written in two different ways:</p>
<ul>
<li><strong>shorthand syntax</strong>: more compact and easier to read, which is explained in this lesson</li>
<li><strong>full syntax</strong>: longer but with more options available</li>
</ul>
<p>XPath expressions can be broken down into search steps. Each search step can in turn be divided into three parts:</p>
<ul>
<li><strong>axis</strong>: select element or attribute nodes based on their names.</li>
<li><strong>predicate</strong>: restricts axis selection to nodes meeting certain conditions.</li>
<li><strong>node selection</strong>: Of the nodes selected by the y-axis predicate, select the elements, the text they contain, or both.</li>
</ul>
<h4 id="xml-sample">XML sample<a class="headerlink" href="#xml-sample" title="Permanent link">¶</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nt">&lt;biblioteca&gt;</span>
<span class="linenos" data-linenos=" 3 "></span>  <span class="nt">&lt;libro&gt;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="nt">&lt;titulo&gt;</span>La vida está en otra parte<span class="nt">&lt;/titulo&gt;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="nt">&lt;autor&gt;</span>Milan Kundera<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="nt">&lt;fechaPublicacion</span> <span class="na">año=</span><span class="s">"1973"</span><span class="nt">/&gt;</span>
<span class="linenos" data-linenos=" 7 "></span>  <span class="nt">&lt;/libro&gt;</span>
<span class="linenos" data-linenos=" 8 "></span>  <span class="nt">&lt;libro&gt;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="nt">&lt;titulo&gt;</span>Pantaleón y las visitadoras<span class="nt">&lt;/titulo&gt;</span>
<span class="linenos" data-linenos="10 "></span>    <span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="11 "></span>    <span class="nt">&lt;fechaPublicacion</span> <span class="na">año=</span><span class="s">"1973"</span><span class="nt">/&gt;</span>
<span class="linenos" data-linenos="12 "></span>  <span class="nt">&lt;/libro&gt;</span>
<span class="linenos" data-linenos="13 "></span>  <span class="nt">&lt;libro&gt;</span>
<span class="linenos" data-linenos="14 "></span>    <span class="nt">&lt;titulo&gt;</span>Conversación en la catedral<span class="nt">&lt;/titulo&gt;</span>
<span class="linenos" data-linenos="15 "></span>    <span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="16 "></span>    <span class="nt">&lt;fechaPublicacion</span> <span class="na">año=</span><span class="s">"1969"</span><span class="nt">/&gt;</span>
<span class="linenos" data-linenos="17 "></span>  <span class="nt">&lt;/libro&gt;</span>
<span class="linenos" data-linenos="18 "></span><span class="nt">&lt;/biblioteca&gt;</span>
</code></pre></div>
<figure>
<p><img alt="bg 89%" src="../assets/grafos-documento.svg"/></p>
<figcaption>Node tree representation of the above XML document</figcaption>
</figure>
<h3 id="axis">Axis<a class="headerlink" href="#axis" title="Permanent link">¶</a></h3>
<p>The axis allows us to select a subset of nodes. Element nodes are indicated by the element name. Attribute nodes are indicated by <code>@</code> and the name.</p>
<p><code>/</code>: at the beginning of the expression, indicates the root node, otherwise indicates "child". It must be followed by the name of an element or attribute.</p>
<p><code>/biblioteca/libro/autor</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nt">&lt;autor&gt;</span>Milan Kundera<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="2 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="3 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
</code></pre></div>
<p><code>/autor</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>Returns nothing because <span class="nt">&lt;author&gt;</span> is not a child of the root node.
</code></pre></div>
<p><code>/biblioteca/autor</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>Returns nothing because <span class="nt">&lt;author&gt;</span> is not a child of <span class="nt">&lt;biblioteca&gt;</span>.
</code></pre></div>
<p><code>/biblioteca/libro/autor/@fechaNacimiento</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span> fechaNacimiento="28/03/1936"
<span class="linenos" data-linenos="2 "></span> fechaNacimiento="28/03/1936"
</code></pre></div>
<p><code>/biblioteca/libro/@fechaNacimiento</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>Returns nothing because fechaNacimiento is an attribute 
<span class="linenos" data-linenos="2 "></span>of <span class="nt">&lt;author&gt;</span> not of <span class="nt">&lt;libro&gt;</span>.
</code></pre></div>
<p><code>//</code>: indicates "descendant" (children, children of children, etc.).</p>
<p><code>/biblioteca//autor</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nt">&lt;autor&gt;</span>Milan Kundera<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="2 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="3 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
</code></pre></div>
<p><code>//autor</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nt">&lt;autor&gt;</span>Milan Kundera<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="2 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="3 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
</code></pre></div>
<p><code>//autor//libro</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>Returns nothing because <span class="nt">&lt;libro&gt;</span> is not a child of <span class="nt">&lt;autor&gt;</span>.
</code></pre></div>
<ul>
<li><code>/..</code>: indicates the parent element.</li>
</ul>
<p><code>//@año</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span> año="1973"
<span class="linenos" data-linenos="2 "></span> año="1973"
<span class="linenos" data-linenos="3 "></span> año="1969"
</code></pre></div>
<p><code>/biblioteca/libro/autor/@fechaNacimiento/..</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="2 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
</code></pre></div>
<p><code>//@fechaNacimiento/../..</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="nt">&lt;libro&gt;</span>
<span class="linenos" data-linenos=" 2 "></span>    <span class="nt">&lt;titulo&gt;</span>Pantaleón y las visitadoras<span class="nt">&lt;/titulo&gt;</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="nt">&lt;fechaPublicacion</span> <span class="na">año=</span><span class="s">"1973"</span><span class="nt">/&gt;</span>
<span class="linenos" data-linenos=" 5 "></span>  <span class="nt">&lt;/libro&gt;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span><span class="nt">&lt;libro&gt;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="nt">&lt;titulo&gt;</span>Conversación en la catedral<span class="nt">&lt;/titulo&gt;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="10 "></span>    <span class="nt">&lt;fechaPublicacion</span> <span class="na">año=</span><span class="s">"1969"</span><span class="nt">/&gt;</span>
<span class="linenos" data-linenos="11 "></span>  <span class="nt">&lt;/libro&gt;</span>
</code></pre></div>
<ul>
<li><code>|</code>: allows to indicate several routes.</li>
</ul>
<p><code>//autor|//titulo</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nt">&lt;titulo&gt;</span>La vida está en otra parte<span class="nt">&lt;/titulo&gt;</span>
<span class="linenos" data-linenos="2 "></span><span class="nt">&lt;autor&gt;</span>Milan Kundera<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="3 "></span><span class="nt">&lt;titulo&gt;</span>Pantaleón y las visitadoras<span class="nt">&lt;/titulo&gt;</span>
<span class="linenos" data-linenos="4 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="5 "></span><span class="nt">&lt;titulo&gt;</span>Conversación en la catedral<span class="nt">&lt;/titulo&gt;</span>
<span class="linenos" data-linenos="6 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
</code></pre></div>
<p><code>//autor|//titulo|//@año</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nt">&lt;titulo&gt;</span>La vida está en otra parte<span class="nt">&lt;/titulo&gt;</span>
<span class="linenos" data-linenos="2 "></span><span class="nt">&lt;autor&gt;</span>Milan Kundera<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="3 "></span> año="1973"
<span class="linenos" data-linenos="4 "></span><span class="nt">&lt;titulo&gt;</span>Pantaleón y las visitadoras<span class="nt">&lt;/titulo&gt;</span>
<span class="linenos" data-linenos="5 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="6 "></span> año="1973"
<span class="linenos" data-linenos="7 "></span><span class="nt">&lt;titulo&gt;</span>Conversación en la catedral<span class="nt">&lt;/titulo&gt;</span>
<span class="linenos" data-linenos="8 "></span><span class="nt">&lt;autor</span> <span class="na">fechaNacimiento=</span><span class="s">"28/03/1936"</span><span class="nt">&gt;</span>Mario Vargas Llosa<span class="nt">&lt;/autor&gt;</span>
<span class="linenos" data-linenos="9 "></span> año="1969"
</code></pre></div>
<h3 id="predicate">Predicate<a class="headerlink" href="#predicate" title="Permanent link">¶</a></h3>
<p>The predicate is written in square brackets, following the axis.</p>
<p>If the axis has selected some nodes, the predicate allows you to restrict that selection to those that meet certain conditions.</p>
<ul>
<li><code>[@attribute]</code>: select the elements that have the attribute.</li>
<li><code>[number]</code>: if there are several results, select one of them by order number; <code>last()</code> selects the last one.</li>
<li><code>[condition]</code>: select the nodes that meet the condition.</li>
</ul>
<h4 id="conditions">Conditions<a class="headerlink" href="#conditions" title="Permanent link">¶</a></h4>
<p>Predicates allow you to define conditions on attribute values. The following operators can be used in the conditions:</p>
<ul>
<li>logical operators: and, or, not()</li>
<li>arithmetic operators: +, -, *, div, mod</li>
<li>comparison operators: =, !=, &lt;, &gt;, &lt;=, &gt;= </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>//fechaPublicacion[@año&gt;1970]
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span>//libro[autor="Mario Vargas Llosa"]
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span>//@año[.&gt;1970]
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>//autor[.="Mario Vargas Llosa"]
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span>//libro[autor="Mario Vargas Llosa" and fechaPublicacion/@año="1973"]
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span>//libro[autor="Mario Vargas Llosa" and fechaPublicacion/@año="1973"]
</code></pre></div>
<h3 id="node-selection">Node selection<a class="headerlink" href="#node-selection" title="Permanent link">¶</a></h3>
<p>The node selection is written after the axis and the predicate. If the axis and the predicate have selected some nodes, the selection of nodes indicates what part of those nodes we keep.</p>
<ul>
<li><code>/node()</code>: Select all children (elements or text) of the node.</li>
<li>
<p><code>//node()</code>: Select all descendants (elements or text) of the node.</p>
</li>
<li>
<p><code>/text()</code>: Select only the text contained in the node.</p>
</li>
<li><code>//text()</code>: Select only the text contained in the node and all its descendants.</li>
<li><code>/*</code>: Select all children (elements only) of the node.</li>
<li><code>//*</code>: Select all descendants (elements only) of the node.</li>
<li><code>/@*</code>: Select all attributes of the node.</li>
<li><code>//@*</code>: Select all attributes of the node's descendants.</li>
</ul>
<figure>
<p><img alt="bg 75%" src="../assets/XPATH-Flow.png"/></p>
<figcaption>
  A node tree sample
</figcaption>
</figure>
<h2 id="bibliography-webography-and-credits">Bibliography, webography and credits<a class="headerlink" href="#bibliography-webography-and-credits" title="Permanent link">¶</a></h2>
<ul>
<li>Bartolomé Sintés Marco. (2022, January 30). <em>XPath: XML Path language</em>, available at  <a href="https://www.mclibre.org/consultar/xml/lecciones/xml-xpath.html">https://www.mclibre.org/consultar/xml/lecciones/xml-xpath.html</a></li>
</ul>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
<script src="../../assets/javascripts/bundle.756773cc.min.js"></script>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</body>
</html>